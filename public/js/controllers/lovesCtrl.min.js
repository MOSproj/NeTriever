(function(){angular.module("myApp").controller("lovesCtrl",["$scope","$routeParams","$location","$log","postsSrv","cookiesSrv",a]);function a(e,h,i,g,c,f){var d=this;var b=i.search();d.lovePostsIds=f.getLovedPosts();if(d.lovePostsIds.length>0){c.getPostsByIds(d.lovePostsIds).then(function(j){d.posts=j.data;angular.forEach(d.posts,(function(k){k.love=d.lovePostsIds.indexOf(k.id)!==-1}))})}else{d.posts=[]}d.love=function(j){j.love=!j.love;if(j.love){f.addLovedPost(j.id)}else{f.removeLovedPost(j.id)}}}})();