(function(){angular.module("myApp").controller("lovesCtrl",["$scope","$routeParams","$location","$log","postsSrv","cookiesSrv",a]);function a(e,h,i,g,c,f){var d=this;var b=i.search();d.cookieObj=f.getLovedPosts();console.log(d.cookieObj);d.lovePostsIds=[];angular.forEach(d.cookieObj,function(j,k){d.lovePostsIds.push(j)});c.getPostsByIds(d.lovePostsIds).then(function(j){console.log(j.data);d.posts=j.data;d.cookieObj=f.getLovedPosts();angular.forEach(d.posts,(function(k){k.love=d.cookieObj.hasOwnProperty(k.id)}))});d.love=function(j){j.love=!j.love;if(j.love){f.addLovedPost(j.id)}else{f.removeLovedPost(j.id)}}}})();